<!DOCTYPE HTML>
<html>

	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta charset="UTF-8">

		<title>DataBinding</title>
	
		<script id="sap-ui-bootstrap"
			src="../../resources/sap-ui-core.js"
			data-sap-ui-libs="sap.m"
			data-sap-ui-theme="sap_belize"
			data-sap-ui-compatVersion="edge"
			data-sap-ui-resourceroots='{"sap.ui.app.DataBding.DataBinding": "./"}'>
		</script>

		<link rel="stylesheet" type="text/css" href="css/style.css">

<!--/*		<script>
			sap.ui.getCore().attachInit(function() {
				new sap.m.Shell({
					app: new sap.ui.core.ComponentContainer({
						height : "100%",
						name : "sap.ui.app.DataBding.DataBinding"
					})
				}).placeAt("content");
			});
		</script> -->
<!-- step 1 Step 1: No Data Binding
	<script>
		// Attach an anonymous function to the 'init' event
		sap.ui.getCore().attachInit(function () {
			// Create a text UI element that displays a hardcoded text string
			new sap.m.Text({text: "Hi, my name is Harry Hawk"}).
				placeAt("content");
		});
	</script> -->
	<!--Step 2: Creating a Model
Step 2: Creating a Model
In this step, we create a model as container for the data on which your application operates.	
	-->
	<script>
		// Attach an anonymous function to the SAPUI5 'init' event
		sap.ui.getCore().attachInit(function () {
/*Step 12: Aggregation Binding Using Templates
Aggregation binding (or "list binding") allows a control to be bound to a list within the model 
data and allows relative binding to the list entries by its child controls.	*/		
			var oProductModel = new sap.ui.model.json.JSONModel();
			oProductModel.loadData("./model/Products.json");
			sap.ui.getCore().setModel(oProductModel, "products"); //end step 12			
			// Create a JSON model from an object literal
			var oModel = new sap.ui.model.json.JSONModel({
				//step 4 Two-Way Data Binding
				firstName: "Harry",
				lastName: "Hawk",
				enabled: true,
		// Step 8: Binding Paths: Accessing Properties in Hierarchically Structured Models
        address   : {
		street : "Dietmar-Hopp-Allee 16",
		city : "Walldorf",
		zip : "69190",
		country : "Germany"
	   },
    "salesToDate" : 12345.6789,
  "priceThreshold" : 20,    
    "currencyCode" : "EUR"				
				//panelHeaderText: "Data Binding Basics"
				//greetingText: "Hi, my name is Harry Hawk"
			});

			//Step 5: One-Way Data Binding*(enable e disable edit box)
			//oModel.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);

			// Assign the model object to the SAPUI5 core
			sap.ui.getCore().setModel(oModel);
			// Display the XML view called "App"
/*			step Step 6: Resource Models
			Business applications also require language-specific (translatable) texts used as 
			labels and descriptions on the user interface.
			*/
		      var oResourceModel = new sap.ui.model.resource.ResourceModel({
		        bundleName : "sap.ui.app.DataBding.DataBinding.i18n.i18n"
		      });
		
		      // Assign the model object to the SAPUI5 core using the name "i18n"
		      sap.ui.getCore().setModel(oResourceModel, "i18n");
      
			//step 4 Two-Way Data Binding
			//create view
			var oView = new sap.ui.core.mvc.XMLView({ viewName : "sap.ui.app.DataBding.DataBinding.view.App" })
				.placeAt("content");			

// Register the view with the message manager
			sap.ui.getCore().getMessageManager().registerObject(oView, true);			
			
			// Display a text element whose text is derived
			// from the model object			
//Step 3: Create Property Binding
//Although there is no visible difference, the text on the screen is now derived from model data.			
			//new sap.m.Text({ text : "{/greetingText}" }).  step 1
			
			// Create a text UI element that displays a hardcoded text string
			//new sap.m.Text({text: "Hi, my name is Harry Hawk"}).
			// Insert the view into the DOM Step 11: Validation Using the Message Manager
				oView.placeAt("content");
		});
	</script>	
	</head>

	<body class="sapUiBody" id="content">
	</body>

</html>